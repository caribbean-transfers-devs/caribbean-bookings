function getSpamByDate(e){getSpamRequest(e.target.value,"PENDING")}function getSpamRequest(e,t,a=0){$.ajax({url:"/operation/spam/get",type:"POST",data:{date:e,status:t,partial:a},dataType:"text",beforeSend:function(){0==a?$("#spam-general-container").empty().append('<div class="loaderItem"></div>'):$("#spam-items-content").empty().append('<div class="loaderItem"></div>')},success:function(e){0==a?$("#spam-general-container").empty().append(e):$("#spam-items-content").empty().append(e)}}).fail((function(e,t,a){console.log(e)}))}function getSpamClientDetails(e){$.ajax({url:"/operation/spam/get/basic-information",type:"POST",data:{id:e},dataType:"text",beforeSend:function(){$("#spamResumeInformationContainer").empty().append('<div class="loaderItem"></div>')},success:function(e){$("#spamResumeInformationContainer").empty().append(e)}}).fail((function(e,t,a){console.log(e)}))}function getSpamHistory(e){$.ajax({url:"/operation/spam/history/get",type:"POST",data:{id:e},dataType:"text",beforeSend:function(){$("#spamHistory").empty().append('<div class="loaderItem"></div>')},success:function(e){$("#spamHistory").empty().append(e)}}).fail((function(e,t,a){console.log(e)}))}function resetSpamForm(){$("#formSpamAddComment")[0].reset(),$("#btnSaveSpamComment").prop("disabled",!1)}function selectSpamTabs(){$("#pills-tab .nav-link").removeClass("active").attr("aria-selected","false"),$("#spamResumeInformationContainer-tab").addClass("active").attr("aria-selected","true"),$(".tab-content .tab-pane").removeClass("show active"),$("#spamResumeInformationContainer").addClass("show active")}function getPendingRequest(){$.ajax({url:"/operation/pending/get",type:"POST",data:{},dataType:"text",beforeSend:function(){$("#pending-general-container").empty().append('<div class="loaderItem"></div>')},success:function(e){$("#pending-general-container").empty().append(e)}}).fail((function(e,t,a){console.log(e)}))}function getQuotationRequest(){$.ajax({url:"/operation/quotation/get",type:"POST",data:{date:document.getElementById("lookup_date").value},dataType:"text",beforeSend:function(){$("#quotation-general-container").empty().append('<div class="loaderItem"></div>')},success:function(e){$("#quotation-general-container").empty().append(e)}}).fail((function(e,t,a){console.log(e)}))}$(document).ready((function(){const e=$("#spam-selec-date");e.find("option:eq(1)").prop("selected",!0),getSpamByDate({target:e[0]})})),window.getSpamByStatus=function(e,t){getSpamRequest(t,e,1)},window.spamOnenModal=function(e,t,a,n="PENDING"){$("#viewSpamDetailModal").modal("show"),getSpamClientDetails(t),getSpamHistory(a),$("#spam_rez_id").val(a),$("#spam_item_id").val(t),resetSpamForm(),selectSpamTabs(),$("#spamRememberDisplay").addClass("follow_up_hide"),$("#forSpamNewStatus").val(n)},window.saveSpamComment=function(e){e.preventDefault();let t=$("#formSpamAddComment").serializeArray();$.ajax({url:"/operation/spam/history/add",type:"POST",data:t,beforeSend:function(){$("#btnSaveSpamComment").prop("disabled",!0).text("Agregando seguimiento...")},success:function(e){Swal.fire({icon:"success",title:"¡Éxito!",html:"Seguimiento agregado...",showConfirmButton:!1,timer:1500}).then((e=>{$("#btnSaveSpamComment").prop("disabled",!1).text("Guardar"),$("#viewSpamDetailModal").modal("hide");const t=$("#spam-selec-date");t.find("option:eq(1)").prop("selected",!0),getSpamByDate({target:t[0]})}))}}).fail((function(e,t,a){$("#btnSaveSpamComment").prop("disabled",!1).text("Guardar"),console.log(e),Swal.fire({title:"¡Error!",text:`[${e.responseJSON.error.code}]: ${e.responseJSON.error.message.join(" ")}`,icon:"error",showConfirmButton:!1,timer:2500})}))},$("#spamRememberCheck").on("change",(function(){$(this).prop("checked")?$("#spamRememberDisplay").removeClass("follow_up_hide"):$("#spamRememberDisplay").addClass("follow_up_hide")})),$(document).ready((function(){getPendingRequest(),document.getElementById("quotation-general-container")&&getQuotationRequest()}));
