!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).flatpickr=t()}(this,function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],r=0,s=a.length;r<s;r++,o++)i[o]=a[r];return i}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],i={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},o={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},a=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},r=function(e){return!0===e?1:0};function s(e,t){var n;return function(){var i=this,o=arguments;clearTimeout(n),n=setTimeout(function(){return e.apply(i,o)},t)}}var l=function(e){return e instanceof Array?e:[e]};function d(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function c(e,t,n){var i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function p(e,t){return t(e)?e:e.parentNode?p(e.parentNode,t):void 0}function f(e,t){var n=c("div","numInputWrapper"),i=c("input","numInput "+e),o=c("span","arrowUp"),a=c("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var r in t)i.setAttribute(r,t[r]);return n.appendChild(i),n.appendChild(o),n.appendChild(a),n}function m(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var h=function(){},g=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},v={D:h,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*r(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var i=parseInt(t),o=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+n.firstDayOfWeek),o},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:h,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:h,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},b={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},y={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[y.w(e,t,n)]},F:function(e,t,n){return g(y.n(e,t,n)-1,!1,t)},G:function(e,t,n){return a(y.h(e,t,n))},H:function(e){return a(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[r(e.getHours()>11)]},M:function(e,t){return g(e.getMonth(),!0,t)},S:function(e){return a(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return a(e.getFullYear(),4)},d:function(e){return a(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return a(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return a(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},w=function(e){var t=e.config,n=void 0===t?i:t,a=e.l10n,r=void 0===a?o:a,s=e.isMobile,l=void 0!==s&&s;return function(e,t,i){var o=i||r;return void 0===n.formatDate||l?t.split("").map(function(t,i,a){return y[t]&&"\\"!==a[i-1]?y[t](e,o,n):"\\"!==t?t:""}).join(""):n.formatDate(e,t,o)}},C=function(e){var t=e.config,n=void 0===t?i:t,a=e.l10n,r=void 0===a?o:a;return function(e,t,o,a){if(0===e||e){var s,l=a||r,d=e;if(e instanceof Date)s=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)s=new Date(e);else if("string"==typeof e){var c=t||(n||i).dateFormat,u=String(e).trim();if("today"===u)s=new Date,o=!0;else if(n&&n.parseDate)s=n.parseDate(e,c);else if(/Z$/.test(u)||/GMT$/.test(u))s=new Date(e);else{for(var p=void 0,f=[],m=0,h=0,g="";m<c.length;m++){var y=c[m],w="\\"===y,C="\\"===c[m-1]||w;if(b[y]&&!C){g+=b[y];var D=new RegExp(g).exec(e);D&&(p=!0)&&f["Y"!==y?"push":"unshift"]({fn:v[y],val:D[++h]})}else w||(g+=".")}s=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),f.forEach(function(e){var t=e.fn,n=e.val;return s=t(s,n,l)||s}),s=p?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===o&&s.setHours(0,0,0,0),s;n.errorHandler(new Error("Invalid date provided: "+d))}}};function D(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var x=function(e,t,n){return 3600*e+60*t+n};function E(e){var t=e.defaultHour,n=e.defaultMinute,i=e.defaultSeconds;if(void 0!==e.minDate){var o=e.minDate.getHours(),a=e.minDate.getMinutes(),r=e.minDate.getSeconds();t<o&&(t=o),t===o&&n<a&&(n=a),t===o&&n===a&&i<r&&(i=e.minDate.getSeconds())}if(void 0!==e.maxDate){var s=e.maxDate.getHours(),l=e.maxDate.getMinutes();(t=Math.min(t,s))===s&&(n=Math.min(l,n)),t===s&&n===l&&(i=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:i}}function M(h,v){var y={config:e(e({},i),S.defaultConfig),l10n:o};function M(){var e;return(null===(e=y.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function k(e){return e.bind(y)}function T(){var e=y.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==y.calendarContainer&&(y.calendarContainer.style.visibility="hidden",y.calendarContainer.style.display="block"),void 0!==y.daysContainer){var t=(y.days.offsetWidth+1)*e.showMonths;y.daysContainer.style.width=t+"px",y.calendarContainer.style.width=t+(void 0!==y.weekWrapper?y.weekWrapper.offsetWidth:0)+"px",y.calendarContainer.style.removeProperty("visibility"),y.calendarContainer.style.removeProperty("display")}})}function $(e){if(0===y.selectedDates.length){var t=void 0===y.config.minDate||D(new Date,y.config.minDate)>=0?new Date:new Date(y.config.minDate.getTime()),n=E(y.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds()),y.selectedDates=[t],y.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=m(e),i=n;void 0!==y.amPM&&n===y.amPM&&(y.amPM.textContent=y.l10n.amPM[r(y.amPM.textContent===y.l10n.amPM[0])]);var o=parseFloat(i.getAttribute("min")),s=parseFloat(i.getAttribute("max")),l=parseFloat(i.getAttribute("step")),d=parseInt(i.value,10),c=d+l*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==i.value&&2===i.value.length){var u=i===y.hourElement,p=i===y.minuteElement;c<o?(c=s+c+r(!u)+(r(u)&&r(!y.amPM)),p&&H(void 0,-1,y.hourElement)):c>s&&(c=i===y.hourElement?c-s-r(!y.amPM):o,p&&H(void 0,1,y.hourElement)),y.amPM&&u&&(1===l?c+d===23:Math.abs(c-d)>l)&&(y.amPM.textContent=y.l10n.amPM[r(y.amPM.textContent===y.l10n.amPM[0])]),i.value=a(c)}}(e);var i=y._input.value;I(),De(),y._input.value!==i&&y._debouncedChange()}function I(){if(void 0!==y.hourElement&&void 0!==y.minuteElement){var e,t,n=(parseInt(y.hourElement.value.slice(-2),10)||0)%24,i=(parseInt(y.minuteElement.value,10)||0)%60,o=void 0!==y.secondElement?(parseInt(y.secondElement.value,10)||0)%60:0;void 0!==y.amPM&&(e=n,t=y.amPM.textContent,n=e%12+12*r(t===y.l10n.amPM[1]));var a=void 0!==y.config.minTime||y.config.minDate&&y.minDateHasTime&&y.latestSelectedDateObj&&0===D(y.latestSelectedDateObj,y.config.minDate,!0),s=void 0!==y.config.maxTime||y.config.maxDate&&y.maxDateHasTime&&y.latestSelectedDateObj&&0===D(y.latestSelectedDateObj,y.config.maxDate,!0);if(void 0!==y.config.maxTime&&void 0!==y.config.minTime&&y.config.minTime>y.config.maxTime){var l=x(y.config.minTime.getHours(),y.config.minTime.getMinutes(),y.config.minTime.getSeconds()),d=x(y.config.maxTime.getHours(),y.config.maxTime.getMinutes(),y.config.maxTime.getSeconds()),c=x(n,i,o);if(c>d&&c<l){var u=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]}(l);n=u[0],i=u[1],o=u[2]}}else{if(s){var p=void 0!==y.config.maxTime?y.config.maxTime:y.config.maxDate;(n=Math.min(n,p.getHours()))===p.getHours()&&(i=Math.min(i,p.getMinutes())),i===p.getMinutes()&&(o=Math.min(o,p.getSeconds()))}if(a){var f=void 0!==y.config.minTime?y.config.minTime:y.config.minDate;(n=Math.max(n,f.getHours()))===f.getHours()&&i<f.getMinutes()&&(i=f.getMinutes()),i===f.getMinutes()&&(o=Math.max(o,f.getSeconds()))}}O(n,i,o)}}function A(e){var t=e||y.latestSelectedDateObj;t&&t instanceof Date&&O(t.getHours(),t.getMinutes(),t.getSeconds())}function O(e,t,n){void 0!==y.latestSelectedDateObj&&y.latestSelectedDateObj.setHours(e%24,t,n||0,0),y.hourElement&&y.minuteElement&&!y.isMobile&&(y.hourElement.value=a(y.config.time_24hr?e:(12+e)%12+12*r(e%12==0)),y.minuteElement.value=a(t),void 0!==y.amPM&&(y.amPM.textContent=y.l10n.amPM[r(e>=12)]),void 0!==y.secondElement&&(y.secondElement.value=a(n)))}function N(e){var t=m(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&Z(n)}function P(e,t,n,i){return t instanceof Array?t.forEach(function(t){return P(e,t,n,i)}):e instanceof Array?e.forEach(function(e){return P(e,t,n,i)}):(e.addEventListener(t,n,i),void y._handlers.push({remove:function(){return e.removeEventListener(t,n,i)}}))}function L(){ve("onChange")}function _(e,t){var n=void 0!==e?y.parseDate(e):y.latestSelectedDateObj||(y.config.minDate&&y.config.minDate>y.now?y.config.minDate:y.config.maxDate&&y.config.maxDate<y.now?y.config.maxDate:y.now),i=y.currentYear,o=y.currentMonth;try{void 0!==n&&(y.currentYear=n.getFullYear(),y.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,y.config.errorHandler(e)}t&&y.currentYear!==i&&(ve("onYearChange"),q()),!t||y.currentYear===i&&y.currentMonth===o||ve("onMonthChange"),y.redraw()}function F(e){var t=m(e);~t.className.indexOf("arrow")&&H(e,t.classList.contains("arrowUp")?1:-1)}function H(e,t,n){var i=e&&m(e),o=n||i&&i.parentNode&&i.parentNode.firstChild,a=be("increment");a.delta=t,o&&o.dispatchEvent(a)}function j(e,t,n,i){var o=ee(t,!0),a=c("span",e,t.getDate().toString());return a.dateObj=t,a.$i=i,a.setAttribute("aria-label",y.formatDate(t,y.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===D(t,y.now)&&(y.todayDateElem=a,a.classList.add("today"),a.setAttribute("aria-current","date")),o?(a.tabIndex=-1,ye(t)&&(a.classList.add("selected"),y.selectedDateElem=a,"range"===y.config.mode&&(d(a,"startRange",y.selectedDates[0]&&0===D(t,y.selectedDates[0],!0)),d(a,"endRange",y.selectedDates[1]&&0===D(t,y.selectedDates[1],!0)),"nextMonthDay"===e&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===y.config.mode&&function(e){return!("range"!==y.config.mode||y.selectedDates.length<2)&&D(e,y.selectedDates[0])>=0&&D(e,y.selectedDates[1])<=0}(t)&&!ye(t)&&a.classList.add("inRange"),y.weekNumbers&&1===y.config.showMonths&&"prevMonthDay"!==e&&i%7==6&&y.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+y.config.getWeek(t)+"</span>"),ve("onDayCreate",a),a}function Y(e){e.focus(),"range"===y.config.mode&&oe(e)}function B(e){for(var t=e>0?0:y.config.showMonths-1,n=e>0?y.config.showMonths:-1,i=t;i!=n;i+=e)for(var o=y.daysContainer.children[i],a=e>0?0:o.children.length-1,r=e>0?o.children.length:-1,s=a;s!=r;s+=e){var l=o.children[s];if(-1===l.className.indexOf("hidden")&&ee(l.dateObj))return l}}function R(e,t){var n=M(),i=te(n||document.body),o=void 0!==e?e:i?n:void 0!==y.selectedDateElem&&te(y.selectedDateElem)?y.selectedDateElem:void 0!==y.todayDateElem&&te(y.todayDateElem)?y.todayDateElem:B(t>0?1:-1);void 0===o?y._input.focus():i?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():y.currentMonth,i=t>0?y.config.showMonths:-1,o=t>0?1:-1,a=n-y.currentMonth;a!=i;a+=o)for(var r=y.daysContainer.children[a],s=n-y.currentMonth===a?e.$i+t:t<0?r.children.length-1:0,l=r.children.length,d=s;d>=0&&d<l&&d!=(t>0?l:-1);d+=o){var c=r.children[d];if(-1===c.className.indexOf("hidden")&&ee(c.dateObj)&&Math.abs(e.$i-d)>=Math.abs(t))return Y(c)}y.changeMonth(o),R(B(o),0)}(o,t):Y(o)}function z(e,t){for(var n=(new Date(e,t,1).getDay()-y.l10n.firstDayOfWeek+7)%7,i=y.utils.getDaysInMonth((t-1+12)%12,e),o=y.utils.getDaysInMonth(t,e),a=window.document.createDocumentFragment(),r=y.config.showMonths>1,s=r?"prevMonthDay hidden":"prevMonthDay",l=r?"nextMonthDay hidden":"nextMonthDay",d=i+1-n,u=0;d<=i;d++,u++)a.appendChild(j("flatpickr-day "+s,new Date(e,t-1,d),0,u));for(d=1;d<=o;d++,u++)a.appendChild(j("flatpickr-day",new Date(e,t,d),0,u));for(var p=o+1;p<=42-n&&(1===y.config.showMonths||u%7!=0);p++,u++)a.appendChild(j("flatpickr-day "+l,new Date(e,t+1,p%o),0,u));var f=c("div","dayContainer");return f.appendChild(a),f}function W(){if(void 0!==y.daysContainer){u(y.daysContainer),y.weekNumbers&&u(y.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<y.config.showMonths;t++){var n=new Date(y.currentYear,y.currentMonth,1);n.setMonth(y.currentMonth+t),e.appendChild(z(n.getFullYear(),n.getMonth()))}y.daysContainer.appendChild(e),y.days=y.daysContainer.firstChild,"range"===y.config.mode&&1===y.selectedDates.length&&oe()}}function q(){if(!(y.config.showMonths>1||"dropdown"!==y.config.monthSelectorType)){var e=function(e){return!(void 0!==y.config.minDate&&y.currentYear===y.config.minDate.getFullYear()&&e<y.config.minDate.getMonth()||void 0!==y.config.maxDate&&y.currentYear===y.config.maxDate.getFullYear()&&e>y.config.maxDate.getMonth())};y.monthsDropdownContainer.tabIndex=-1,y.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=c("option","flatpickr-monthDropdown-month");n.value=new Date(y.currentYear,t).getMonth().toString(),n.textContent=g(t,y.config.shorthandCurrentMonth,y.l10n),n.tabIndex=-1,y.currentMonth===t&&(n.selected=!0),y.monthsDropdownContainer.appendChild(n)}}}function U(){var e,t=c("div","flatpickr-month"),n=window.document.createDocumentFragment();y.config.showMonths>1||"static"===y.config.monthSelectorType?e=c("span","cur-month"):(y.monthsDropdownContainer=c("select","flatpickr-monthDropdown-months"),y.monthsDropdownContainer.setAttribute("aria-label",y.l10n.monthAriaLabel),P(y.monthsDropdownContainer,"change",function(e){var t=m(e),n=parseInt(t.value,10);y.changeMonth(n-y.currentMonth),ve("onMonthChange")}),q(),e=y.monthsDropdownContainer);var i=f("cur-year",{tabindex:"-1"}),o=i.getElementsByTagName("input")[0];o.setAttribute("aria-label",y.l10n.yearAriaLabel),y.config.minDate&&o.setAttribute("min",y.config.minDate.getFullYear().toString()),y.config.maxDate&&(o.setAttribute("max",y.config.maxDate.getFullYear().toString()),o.disabled=!!y.config.minDate&&y.config.minDate.getFullYear()===y.config.maxDate.getFullYear());var a=c("div","flatpickr-current-month");return a.appendChild(e),a.appendChild(i),n.appendChild(a),t.appendChild(n),{container:t,yearElement:o,monthElement:e}}function J(){u(y.monthNav),y.monthNav.appendChild(y.prevMonthNav),y.config.showMonths&&(y.yearElements=[],y.monthElements=[]);for(var e=y.config.showMonths;e--;){var t=U();y.yearElements.push(t.yearElement),y.monthElements.push(t.monthElement),y.monthNav.appendChild(t.container)}y.monthNav.appendChild(y.nextMonthNav)}function G(){y.weekdayContainer?u(y.weekdayContainer):y.weekdayContainer=c("div","flatpickr-weekdays");for(var e=y.config.showMonths;e--;){var t=c("div","flatpickr-weekdaycontainer");y.weekdayContainer.appendChild(t)}return K(),y.weekdayContainer}function K(){if(y.weekdayContainer){var e=y.l10n.firstDayOfWeek,n=t(y.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var i=y.config.showMonths;i--;)y.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function Q(e,t){void 0===t&&(t=!0);var n=t?e:e-y.currentMonth;n<0&&!0===y._hidePrevMonthArrow||n>0&&!0===y._hideNextMonthArrow||(y.currentMonth+=n,(y.currentMonth<0||y.currentMonth>11)&&(y.currentYear+=y.currentMonth>11?1:-1,y.currentMonth=(y.currentMonth+12)%12,ve("onYearChange"),q()),W(),ve("onMonthChange"),we())}function V(e){return y.calendarContainer.contains(e)}function X(e){if(y.isOpen&&!y.config.inline){var t=m(e),n=V(t),i=!(t===y.input||t===y.altInput||y.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(y.input)||~e.path.indexOf(y.altInput))||n||V(e.relatedTarget)),o=!y.config.ignoredFocusElements.some(function(e){return e.contains(t)});i&&o&&(y.config.allowInput&&y.setDate(y._input.value,!1,y.config.altInput?y.config.altFormat:y.config.dateFormat),void 0!==y.timeContainer&&void 0!==y.minuteElement&&void 0!==y.hourElement&&""!==y.input.value&&void 0!==y.input.value&&$(),y.close(),y.config&&"range"===y.config.mode&&1===y.selectedDates.length&&y.clear(!1))}}function Z(e){if(!(!e||y.config.minDate&&e<y.config.minDate.getFullYear()||y.config.maxDate&&e>y.config.maxDate.getFullYear())){var t=e,n=y.currentYear!==t;y.currentYear=t||y.currentYear,y.config.maxDate&&y.currentYear===y.config.maxDate.getFullYear()?y.currentMonth=Math.min(y.config.maxDate.getMonth(),y.currentMonth):y.config.minDate&&y.currentYear===y.config.minDate.getFullYear()&&(y.currentMonth=Math.max(y.config.minDate.getMonth(),y.currentMonth)),n&&(y.redraw(),ve("onYearChange"),q())}}function ee(e,t){var n;void 0===t&&(t=!0);var i=y.parseDate(e,void 0,t);if(y.config.minDate&&i&&D(i,y.config.minDate,void 0!==t?t:!y.minDateHasTime)<0||y.config.maxDate&&i&&D(i,y.config.maxDate,void 0!==t?t:!y.maxDateHasTime)>0)return!1;if(!y.config.enable&&0===y.config.disable.length)return!0;if(void 0===i)return!1;for(var o=!!y.config.enable,a=null!==(n=y.config.enable)&&void 0!==n?n:y.config.disable,r=0,s=void 0;r<a.length;r++){if("function"==typeof(s=a[r])&&s(i))return o;if(s instanceof Date&&void 0!==i&&s.getTime()===i.getTime())return o;if("string"==typeof s){var l=y.parseDate(s,void 0,!0);return l&&l.getTime()===i.getTime()?o:!o}if("object"==typeof s&&void 0!==i&&s.from&&s.to&&i.getTime()>=s.from.getTime()&&i.getTime()<=s.to.getTime())return o}return!o}function te(e){return void 0!==y.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&y.daysContainer.contains(e)}function ne(e){var t=e.target===y._input,n=y._input.value.trimEnd()!==Ce();!t||!n||e.relatedTarget&&V(e.relatedTarget)||y.setDate(y._input.value,!0,e.target===y.altInput?y.config.altFormat:y.config.dateFormat)}function ie(e){var t=m(e),n=y.config.wrap?h.contains(t):t===y._input,i=y.config.allowInput,o=y.isOpen&&(!i||!n),a=y.config.inline&&n&&!i;if(13===e.keyCode&&n){if(i)return y.setDate(y._input.value,!0,t===y.altInput?y.config.altFormat:y.config.dateFormat),y.close(),t.blur();y.open()}else if(V(t)||o||a){var r=!!y.timeContainer&&y.timeContainer.contains(t);switch(e.keyCode){case 13:r?(e.preventDefault(),$(),ue()):pe(e);break;case 27:e.preventDefault(),ue();break;case 8:case 46:n&&!y.config.allowInput&&(e.preventDefault(),y.clear());break;case 37:case 39:if(r||n)y.hourElement&&y.hourElement.focus();else{e.preventDefault();var s=M();if(void 0!==y.daysContainer&&(!1===i||s&&te(s))){var l=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),Q(l),R(B(1),0)):R(void 0,l)}}break;case 38:case 40:e.preventDefault();var d=40===e.keyCode?1:-1;y.daysContainer&&void 0!==t.$i||t===y.input||t===y.altInput?e.ctrlKey?(e.stopPropagation(),Z(y.currentYear-d),R(B(1),0)):r||R(void 0,7*d):t===y.currentYearElement?Z(y.currentYear-d):y.config.enableTime&&(!r&&y.hourElement&&y.hourElement.focus(),$(e),y._debouncedChange());break;case 9:if(r){var c=[y.hourElement,y.minuteElement,y.secondElement,y.amPM].concat(y.pluginElements).filter(function(e){return e}),u=c.indexOf(t);if(-1!==u){var p=c[u+(e.shiftKey?-1:1)];e.preventDefault(),(p||y._input).focus()}}else!y.config.noCalendar&&y.daysContainer&&y.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),y._input.focus())}}if(void 0!==y.amPM&&t===y.amPM)switch(e.key){case y.l10n.amPM[0].charAt(0):case y.l10n.amPM[0].charAt(0).toLowerCase():y.amPM.textContent=y.l10n.amPM[0],I(),De();break;case y.l10n.amPM[1].charAt(0):case y.l10n.amPM[1].charAt(0).toLowerCase():y.amPM.textContent=y.l10n.amPM[1],I(),De()}(n||V(t))&&ve("onKeyDown",e)}function oe(e,t){if(void 0===t&&(t="flatpickr-day"),1===y.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var n=e?e.dateObj.getTime():y.days.firstElementChild.dateObj.getTime(),i=y.parseDate(y.selectedDates[0],void 0,!0).getTime(),o=Math.min(n,y.selectedDates[0].getTime()),a=Math.max(n,y.selectedDates[0].getTime()),r=!1,s=0,l=0,d=o;d<a;d+=864e5)ee(new Date(d),!0)||(r=r||d>o&&d<a,d<i&&(!s||d>s)?s=d:d>i&&(!l||d<l)&&(l=d));Array.from(y.rContainer.querySelectorAll("*:nth-child(-n+"+y.config.showMonths+") > ."+t)).forEach(function(t){var o,a,d,c=t.dateObj.getTime(),u=s>0&&c<s||l>0&&c>l;if(u)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach(function(e){t.classList.remove(e)});r&&!u||(["startRange","inRange","endRange","notAllowed"].forEach(function(e){t.classList.remove(e)}),void 0!==e&&(e.classList.add(n<=y.selectedDates[0].getTime()?"startRange":"endRange"),i<n&&c===i?t.classList.add("startRange"):i>n&&c===i&&t.classList.add("endRange"),c>=s&&(0===l||c<=l)&&(a=i,d=n,(o=c)>Math.min(a,d)&&o<Math.max(a,d))&&t.classList.add("inRange")))})}}function ae(){!y.isOpen||y.config.static||y.config.inline||de()}function re(e){return function(t){var n=y.config["_"+e+"Date"]=y.parseDate(t,y.config.dateFormat),i=y.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(y["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),y.selectedDates&&(y.selectedDates=y.selectedDates.filter(function(e){return ee(e)}),y.selectedDates.length||"min"!==e||A(n),De()),y.daysContainer&&(ce(),void 0!==n?y.currentYearElement[e]=n.getFullYear().toString():y.currentYearElement.removeAttribute(e),y.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function se(){return y.config.wrap?h.querySelector("[data-input]"):h}function le(){"object"!=typeof y.config.locale&&void 0===S.l10ns[y.config.locale]&&y.config.errorHandler(new Error("flatpickr: invalid locale "+y.config.locale)),y.l10n=e(e({},S.l10ns.default),"object"==typeof y.config.locale?y.config.locale:"default"!==y.config.locale?S.l10ns[y.config.locale]:void 0),b.D="("+y.l10n.weekdays.shorthand.join("|")+")",b.l="("+y.l10n.weekdays.longhand.join("|")+")",b.M="("+y.l10n.months.shorthand.join("|")+")",b.F="("+y.l10n.months.longhand.join("|")+")",b.K="("+y.l10n.amPM[0]+"|"+y.l10n.amPM[1]+"|"+y.l10n.amPM[0].toLowerCase()+"|"+y.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},v),JSON.parse(JSON.stringify(h.dataset||{}))).time_24hr&&void 0===S.defaultConfig.time_24hr&&(y.config.time_24hr=y.l10n.time_24hr),y.formatDate=w(y),y.parseDate=C({config:y.config,l10n:y.l10n})}function de(e){if("function"!=typeof y.config.position){if(void 0!==y.calendarContainer){ve("onPreCalendarPosition");var t=e||y._positionElement,n=Array.prototype.reduce.call(y.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),i=y.calendarContainer.offsetWidth,o=y.config.position.split(" "),a=o[0],r=o.length>1?o[1]:null,s=t.getBoundingClientRect(),l=window.innerHeight-s.bottom,c="above"===a||"below"!==a&&l<n&&s.top>n,u=window.pageYOffset+s.top+(c?-n-2:t.offsetHeight+2);if(d(y.calendarContainer,"arrowTop",!c),d(y.calendarContainer,"arrowBottom",c),!y.config.inline){var p=window.pageXOffset+s.left,f=!1,m=!1;"center"===r?(p-=(i-s.width)/2,f=!0):"right"===r&&(p-=i-s.width,m=!0),d(y.calendarContainer,"arrowLeft",!f&&!m),d(y.calendarContainer,"arrowCenter",f),d(y.calendarContainer,"arrowRight",m);var h=window.document.body.offsetWidth-(window.pageXOffset+s.right),g=p+i>window.document.body.offsetWidth,v=h+i>window.document.body.offsetWidth;if(d(y.calendarContainer,"rightMost",g),!y.config.static)if(y.calendarContainer.style.top=u+"px",g)if(v){var b=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:(i=document.createElement("style"),document.head.appendChild(i),i.sheet);var i}();if(void 0===b)return;var w=window.document.body.offsetWidth,C=Math.max(0,w/2-i/2),D=b.cssRules.length,x="{left:"+s.left+"px;right:auto;}";d(y.calendarContainer,"rightMost",!1),d(y.calendarContainer,"centerMost",!0),b.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+x,D),y.calendarContainer.style.left=C+"px",y.calendarContainer.style.right="auto"}else y.calendarContainer.style.left="auto",y.calendarContainer.style.right=h+"px";else y.calendarContainer.style.left=p+"px",y.calendarContainer.style.right="auto"}}}else y.config.position(y,e)}function ce(){y.config.noCalendar||y.isMobile||(q(),we(),W())}function ue(){y._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(y.close,0):y.close()}function pe(e){e.preventDefault(),e.stopPropagation();var t=p(m(e),function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")});if(void 0!==t){var n=t,i=y.latestSelectedDateObj=new Date(n.dateObj.getTime()),o=(i.getMonth()<y.currentMonth||i.getMonth()>y.currentMonth+y.config.showMonths-1)&&"range"!==y.config.mode;if(y.selectedDateElem=n,"single"===y.config.mode)y.selectedDates=[i];else if("multiple"===y.config.mode){var a=ye(i);a?y.selectedDates.splice(parseInt(a),1):y.selectedDates.push(i)}else"range"===y.config.mode&&(2===y.selectedDates.length&&y.clear(!1,!1),y.latestSelectedDateObj=i,y.selectedDates.push(i),0!==D(i,y.selectedDates[0],!0)&&y.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(I(),o){var r=y.currentYear!==i.getFullYear();y.currentYear=i.getFullYear(),y.currentMonth=i.getMonth(),r&&(ve("onYearChange"),q()),ve("onMonthChange")}if(we(),W(),De(),o||"range"===y.config.mode||1!==y.config.showMonths?void 0!==y.selectedDateElem&&void 0===y.hourElement&&y.selectedDateElem&&y.selectedDateElem.focus():Y(n),void 0!==y.hourElement&&void 0!==y.hourElement&&y.hourElement.focus(),y.config.closeOnSelect){var s="single"===y.config.mode&&!y.config.enableTime,l="range"===y.config.mode&&2===y.selectedDates.length&&!y.config.enableTime;(s||l)&&ue()}L()}}y.parseDate=C({config:y.config,l10n:y.l10n}),y._handlers=[],y.pluginElements=[],y.loadedPlugins=[],y._bind=P,y._setHoursFromDate=A,y._positionCalendar=de,y.changeMonth=Q,y.changeYear=Z,y.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),y.input.value="",void 0!==y.altInput&&(y.altInput.value=""),void 0!==y.mobileInput&&(y.mobileInput.value=""),y.selectedDates=[],y.latestSelectedDateObj=void 0,!0===t&&(y.currentYear=y._initialDate.getFullYear(),y.currentMonth=y._initialDate.getMonth()),!0===y.config.enableTime){var n=E(y.config);O(n.hours,n.minutes,n.seconds)}y.redraw(),e&&ve("onChange")},y.close=function(){y.isOpen=!1,y.isMobile||(void 0!==y.calendarContainer&&y.calendarContainer.classList.remove("open"),void 0!==y._input&&y._input.classList.remove("active")),ve("onClose")},y.onMouseOver=oe,y._createElement=c,y.createDay=j,y.destroy=function(){void 0!==y.config&&ve("onDestroy");for(var e=y._handlers.length;e--;)y._handlers[e].remove();if(y._handlers=[],y.mobileInput)y.mobileInput.parentNode&&y.mobileInput.parentNode.removeChild(y.mobileInput),y.mobileInput=void 0;else if(y.calendarContainer&&y.calendarContainer.parentNode)if(y.config.static&&y.calendarContainer.parentNode){var t=y.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else y.calendarContainer.parentNode.removeChild(y.calendarContainer);y.altInput&&(y.input.type="text",y.altInput.parentNode&&y.altInput.parentNode.removeChild(y.altInput),delete y.altInput),y.input&&(y.input.type=y.input._type,y.input.classList.remove("flatpickr-input"),y.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete y[e]}catch(e){}})},y.isEnabled=ee,y.jumpToDate=_,y.updateValue=De,y.open=function(e,t){if(void 0===t&&(t=y._positionElement),!0===y.isMobile){if(e){e.preventDefault();var n=m(e);n&&n.blur()}return void 0!==y.mobileInput&&(y.mobileInput.focus(),y.mobileInput.click()),void ve("onOpen")}if(!y._input.disabled&&!y.config.inline){var i=y.isOpen;y.isOpen=!0,i||(y.calendarContainer.classList.add("open"),y._input.classList.add("active"),ve("onOpen"),de(t)),!0===y.config.enableTime&&!0===y.config.noCalendar&&(!1!==y.config.allowInput||void 0!==e&&y.timeContainer.contains(e.relatedTarget)||setTimeout(function(){return y.hourElement.select()},50))}},y.redraw=ce,y.set=function(e,t){if(null!==e&&"object"==typeof e)for(var i in Object.assign(y.config,e),e)void 0!==fe[i]&&fe[i].forEach(function(e){return e()});else y.config[e]=t,void 0!==fe[e]?fe[e].forEach(function(e){return e()}):n.indexOf(e)>-1&&(y.config[e]=l(t));y.redraw(),De(!0)},y.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=y.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return y.clear(t);me(e,n),y.latestSelectedDateObj=y.selectedDates[y.selectedDates.length-1],y.redraw(),_(void 0,t),A(),0===y.selectedDates.length&&y.clear(!1),De(t),t&&ve("onChange")},y.toggle=function(e){if(!0===y.isOpen)return y.close();y.open(e)};var fe={locale:[le,K],showMonths:[J,T,G],minDate:[_],maxDate:[_],positionElement:[ge],clickOpens:[function(){!0===y.config.clickOpens?(P(y._input,"focus",y.open),P(y._input,"click",y.open)):(y._input.removeEventListener("focus",y.open),y._input.removeEventListener("click",y.open))}]};function me(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return y.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)n=[y.parseDate(e,t)];else if("string"==typeof e)switch(y.config.mode){case"single":case"time":n=[y.parseDate(e,t)];break;case"multiple":n=e.split(y.config.conjunction).map(function(e){return y.parseDate(e,t)});break;case"range":n=e.split(y.l10n.rangeSeparator).map(function(e){return y.parseDate(e,t)})}else y.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));y.selectedDates=y.config.allowInvalidPreload?n:n.filter(function(e){return e instanceof Date&&ee(e,!1)}),"range"===y.config.mode&&y.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function he(e){return e.slice().map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?y.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:y.parseDate(e.from,void 0),to:y.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function ge(){y._positionElement=y.config.positionElement||y._input}function ve(e,t){if(void 0!==y.config){var n=y.config[e];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](y.selectedDates,y.input.value,y,t);"onChange"===e&&(y.input.dispatchEvent(be("change")),y.input.dispatchEvent(be("input")))}}function be(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function ye(e){for(var t=0;t<y.selectedDates.length;t++){var n=y.selectedDates[t];if(n instanceof Date&&0===D(n,e))return""+t}return!1}function we(){y.config.noCalendar||y.isMobile||!y.monthNav||(y.yearElements.forEach(function(e,t){var n=new Date(y.currentYear,y.currentMonth,1);n.setMonth(y.currentMonth+t),y.config.showMonths>1||"static"===y.config.monthSelectorType?y.monthElements[t].textContent=g(n.getMonth(),y.config.shorthandCurrentMonth,y.l10n)+" ":y.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()}),y._hidePrevMonthArrow=void 0!==y.config.minDate&&(y.currentYear===y.config.minDate.getFullYear()?y.currentMonth<=y.config.minDate.getMonth():y.currentYear<y.config.minDate.getFullYear()),y._hideNextMonthArrow=void 0!==y.config.maxDate&&(y.currentYear===y.config.maxDate.getFullYear()?y.currentMonth+1>y.config.maxDate.getMonth():y.currentYear>y.config.maxDate.getFullYear()))}function Ce(e){var t=e||(y.config.altInput?y.config.altFormat:y.config.dateFormat);return y.selectedDates.map(function(e){return y.formatDate(e,t)}).filter(function(e,t,n){return"range"!==y.config.mode||y.config.enableTime||n.indexOf(e)===t}).join("range"!==y.config.mode?y.config.conjunction:y.l10n.rangeSeparator)}function De(e){void 0===e&&(e=!0),void 0!==y.mobileInput&&y.mobileFormatStr&&(y.mobileInput.value=void 0!==y.latestSelectedDateObj?y.formatDate(y.latestSelectedDateObj,y.mobileFormatStr):""),y.input.value=Ce(y.config.dateFormat),void 0!==y.altInput&&(y.altInput.value=Ce(y.config.altFormat)),!1!==e&&ve("onValueUpdate")}function xe(e){var t=m(e),n=y.prevMonthNav.contains(t),i=y.nextMonthNav.contains(t);n||i?Q(n?-1:1):y.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?y.changeYear(y.currentYear+1):t.classList.contains("arrowDown")&&y.changeYear(y.currentYear-1)}return function(){y.element=y.input=h,y.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],o=e(e({},JSON.parse(JSON.stringify(h.dataset||{}))),v),a={};y.config.parseDate=o.parseDate,y.config.formatDate=o.formatDate,Object.defineProperty(y.config,"enable",{get:function(){return y.config._enable},set:function(e){y.config._enable=he(e)}}),Object.defineProperty(y.config,"disable",{get:function(){return y.config._disable},set:function(e){y.config._disable=he(e)}});var r="time"===o.mode;if(!o.dateFormat&&(o.enableTime||r)){var s=S.defaultConfig.dateFormat||i.dateFormat;a.dateFormat=o.noCalendar||r?"H:i"+(o.enableSeconds?":S":""):s+" H:i"+(o.enableSeconds?":S":"")}if(o.altInput&&(o.enableTime||r)&&!o.altFormat){var d=S.defaultConfig.altFormat||i.altFormat;a.altFormat=o.noCalendar||r?"h:i"+(o.enableSeconds?":S K":" K"):d+" h:i"+(o.enableSeconds?":S":"")+" K"}Object.defineProperty(y.config,"minDate",{get:function(){return y.config._minDate},set:re("min")}),Object.defineProperty(y.config,"maxDate",{get:function(){return y.config._maxDate},set:re("max")});var c=function(e){return function(t){y.config["min"===e?"_minTime":"_maxTime"]=y.parseDate(t,"H:i:S")}};Object.defineProperty(y.config,"minTime",{get:function(){return y.config._minTime},set:c("min")}),Object.defineProperty(y.config,"maxTime",{get:function(){return y.config._maxTime},set:c("max")}),"time"===o.mode&&(y.config.noCalendar=!0,y.config.enableTime=!0),Object.assign(y.config,a,o);for(var u=0;u<t.length;u++)y.config[t[u]]=!0===y.config[t[u]]||"true"===y.config[t[u]];for(n.filter(function(e){return void 0!==y.config[e]}).forEach(function(e){y.config[e]=l(y.config[e]||[]).map(k)}),y.isMobile=!y.config.disableMobile&&!y.config.inline&&"single"===y.config.mode&&!y.config.disable.length&&!y.config.enable&&!y.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=0;u<y.config.plugins.length;u++){var p=y.config.plugins[u](y)||{};for(var f in p)n.indexOf(f)>-1?y.config[f]=l(p[f]).map(k).concat(y.config[f]):void 0===o[f]&&(y.config[f]=p[f])}o.altInputClass||(y.config.altInputClass=se().className+" "+y.config.altInputClass),ve("onParseConfig")}(),le(),y.input=se(),y.input?(y.input._type=y.input.type,y.input.type="text",y.input.classList.add("flatpickr-input"),y._input=y.input,y.config.altInput&&(y.altInput=c(y.input.nodeName,y.config.altInputClass),y._input=y.altInput,y.altInput.placeholder=y.input.placeholder,y.altInput.disabled=y.input.disabled,y.altInput.required=y.input.required,y.altInput.tabIndex=y.input.tabIndex,y.altInput.type="text",y.input.setAttribute("type","hidden"),!y.config.static&&y.input.parentNode&&y.input.parentNode.insertBefore(y.altInput,y.input.nextSibling)),y.config.allowInput||y._input.setAttribute("readonly","readonly"),ge()):y.config.errorHandler(new Error("Invalid input element specified")),function(){y.selectedDates=[],y.now=y.parseDate(y.config.now)||new Date;var e=y.config.defaultDate||("INPUT"!==y.input.nodeName&&"TEXTAREA"!==y.input.nodeName||!y.input.placeholder||y.input.value!==y.input.placeholder?y.input.value:null);e&&me(e,y.config.dateFormat),y._initialDate=y.selectedDates.length>0?y.selectedDates[0]:y.config.minDate&&y.config.minDate.getTime()>y.now.getTime()?y.config.minDate:y.config.maxDate&&y.config.maxDate.getTime()<y.now.getTime()?y.config.maxDate:y.now,y.currentYear=y._initialDate.getFullYear(),y.currentMonth=y._initialDate.getMonth(),y.selectedDates.length>0&&(y.latestSelectedDateObj=y.selectedDates[0]),void 0!==y.config.minTime&&(y.config.minTime=y.parseDate(y.config.minTime,"H:i")),void 0!==y.config.maxTime&&(y.config.maxTime=y.parseDate(y.config.maxTime,"H:i")),y.minDateHasTime=!!y.config.minDate&&(y.config.minDate.getHours()>0||y.config.minDate.getMinutes()>0||y.config.minDate.getSeconds()>0),y.maxDateHasTime=!!y.config.maxDate&&(y.config.maxDate.getHours()>0||y.config.maxDate.getMinutes()>0||y.config.maxDate.getSeconds()>0)}(),y.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=y.currentMonth),void 0===t&&(t=y.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:y.l10n.daysInMonth[e]}},y.isMobile||function(){var e=window.document.createDocumentFragment();if(y.calendarContainer=c("div","flatpickr-calendar"),y.calendarContainer.tabIndex=-1,!y.config.noCalendar){if(e.appendChild((y.monthNav=c("div","flatpickr-months"),y.yearElements=[],y.monthElements=[],y.prevMonthNav=c("span","flatpickr-prev-month"),y.prevMonthNav.innerHTML=y.config.prevArrow,y.nextMonthNav=c("span","flatpickr-next-month"),y.nextMonthNav.innerHTML=y.config.nextArrow,J(),Object.defineProperty(y,"_hidePrevMonthArrow",{get:function(){return y.__hidePrevMonthArrow},set:function(e){y.__hidePrevMonthArrow!==e&&(d(y.prevMonthNav,"flatpickr-disabled",e),y.__hidePrevMonthArrow=e)}}),Object.defineProperty(y,"_hideNextMonthArrow",{get:function(){return y.__hideNextMonthArrow},set:function(e){y.__hideNextMonthArrow!==e&&(d(y.nextMonthNav,"flatpickr-disabled",e),y.__hideNextMonthArrow=e)}}),y.currentYearElement=y.yearElements[0],we(),y.monthNav)),y.innerContainer=c("div","flatpickr-innerContainer"),y.config.weekNumbers){var t=function(){y.calendarContainer.classList.add("hasWeeks");var e=c("div","flatpickr-weekwrapper");e.appendChild(c("span","flatpickr-weekday",y.l10n.weekAbbreviation));var t=c("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,i=t.weekNumbers;y.innerContainer.appendChild(n),y.weekNumbers=i,y.weekWrapper=n}y.rContainer=c("div","flatpickr-rContainer"),y.rContainer.appendChild(G()),y.daysContainer||(y.daysContainer=c("div","flatpickr-days"),y.daysContainer.tabIndex=-1),W(),y.rContainer.appendChild(y.daysContainer),y.innerContainer.appendChild(y.rContainer),e.appendChild(y.innerContainer)}y.config.enableTime&&e.appendChild(function(){y.calendarContainer.classList.add("hasTime"),y.config.noCalendar&&y.calendarContainer.classList.add("noCalendar");var e=E(y.config);y.timeContainer=c("div","flatpickr-time"),y.timeContainer.tabIndex=-1;var t=c("span","flatpickr-time-separator",":"),n=f("flatpickr-hour",{"aria-label":y.l10n.hourAriaLabel});y.hourElement=n.getElementsByTagName("input")[0];var i=f("flatpickr-minute",{"aria-label":y.l10n.minuteAriaLabel});if(y.minuteElement=i.getElementsByTagName("input")[0],y.hourElement.tabIndex=y.minuteElement.tabIndex=-1,y.hourElement.value=a(y.latestSelectedDateObj?y.latestSelectedDateObj.getHours():y.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),y.minuteElement.value=a(y.latestSelectedDateObj?y.latestSelectedDateObj.getMinutes():e.minutes),y.hourElement.setAttribute("step",y.config.hourIncrement.toString()),y.minuteElement.setAttribute("step",y.config.minuteIncrement.toString()),y.hourElement.setAttribute("min",y.config.time_24hr?"0":"1"),y.hourElement.setAttribute("max",y.config.time_24hr?"23":"12"),y.hourElement.setAttribute("maxlength","2"),y.minuteElement.setAttribute("min","0"),y.minuteElement.setAttribute("max","59"),y.minuteElement.setAttribute("maxlength","2"),y.timeContainer.appendChild(n),y.timeContainer.appendChild(t),y.timeContainer.appendChild(i),y.config.time_24hr&&y.timeContainer.classList.add("time24hr"),y.config.enableSeconds){y.timeContainer.classList.add("hasSeconds");var o=f("flatpickr-second");y.secondElement=o.getElementsByTagName("input")[0],y.secondElement.value=a(y.latestSelectedDateObj?y.latestSelectedDateObj.getSeconds():e.seconds),y.secondElement.setAttribute("step",y.minuteElement.getAttribute("step")),y.secondElement.setAttribute("min","0"),y.secondElement.setAttribute("max","59"),y.secondElement.setAttribute("maxlength","2"),y.timeContainer.appendChild(c("span","flatpickr-time-separator",":")),y.timeContainer.appendChild(o)}return y.config.time_24hr||(y.amPM=c("span","flatpickr-am-pm",y.l10n.amPM[r((y.latestSelectedDateObj?y.hourElement.value:y.config.defaultHour)>11)]),y.amPM.title=y.l10n.toggleTitle,y.amPM.tabIndex=-1,y.timeContainer.appendChild(y.amPM)),y.timeContainer}()),d(y.calendarContainer,"rangeMode","range"===y.config.mode),d(y.calendarContainer,"animate",!0===y.config.animate),d(y.calendarContainer,"multiMonth",y.config.showMonths>1),y.calendarContainer.appendChild(e);var o=void 0!==y.config.appendTo&&void 0!==y.config.appendTo.nodeType;if((y.config.inline||y.config.static)&&(y.calendarContainer.classList.add(y.config.inline?"inline":"static"),y.config.inline&&(!o&&y.element.parentNode?y.element.parentNode.insertBefore(y.calendarContainer,y._input.nextSibling):void 0!==y.config.appendTo&&y.config.appendTo.appendChild(y.calendarContainer)),y.config.static)){var s=c("div","flatpickr-wrapper");y.element.parentNode&&y.element.parentNode.insertBefore(s,y.element),s.appendChild(y.element),y.altInput&&s.appendChild(y.altInput),s.appendChild(y.calendarContainer)}y.config.static||y.config.inline||(void 0!==y.config.appendTo?y.config.appendTo:window.document.body).appendChild(y.calendarContainer)}(),function(){if(y.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(y.element.querySelectorAll("[data-"+e+"]"),function(t){return P(t,"click",y[e])})}),y.isMobile)!function(){var e=y.config.enableTime?y.config.noCalendar?"time":"datetime-local":"date";y.mobileInput=c("input",y.input.className+" flatpickr-mobile"),y.mobileInput.tabIndex=1,y.mobileInput.type=e,y.mobileInput.disabled=y.input.disabled,y.mobileInput.required=y.input.required,y.mobileInput.placeholder=y.input.placeholder,y.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",y.selectedDates.length>0&&(y.mobileInput.defaultValue=y.mobileInput.value=y.formatDate(y.selectedDates[0],y.mobileFormatStr)),y.config.minDate&&(y.mobileInput.min=y.formatDate(y.config.minDate,"Y-m-d")),y.config.maxDate&&(y.mobileInput.max=y.formatDate(y.config.maxDate,"Y-m-d")),y.input.getAttribute("step")&&(y.mobileInput.step=String(y.input.getAttribute("step"))),y.input.type="hidden",void 0!==y.altInput&&(y.altInput.type="hidden");try{y.input.parentNode&&y.input.parentNode.insertBefore(y.mobileInput,y.input.nextSibling)}catch(e){}P(y.mobileInput,"change",function(e){y.setDate(m(e).value,!1,y.mobileFormatStr),ve("onChange"),ve("onClose")})}();else{var e=s(ae,50);if(y._debouncedChange=s(L,300),y.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&P(y.daysContainer,"mouseover",function(e){"range"===y.config.mode&&oe(m(e))}),P(y._input,"keydown",ie),void 0!==y.calendarContainer&&P(y.calendarContainer,"keydown",ie),y.config.inline||y.config.static||P(window,"resize",e),void 0!==window.ontouchstart?P(window.document,"touchstart",X):P(window.document,"mousedown",X),P(window.document,"focus",X,{capture:!0}),!0===y.config.clickOpens&&(P(y._input,"focus",y.open),P(y._input,"click",y.open)),void 0!==y.daysContainer&&(P(y.monthNav,"click",xe),P(y.monthNav,["keyup","increment"],N),P(y.daysContainer,"click",pe)),void 0!==y.timeContainer&&void 0!==y.minuteElement&&void 0!==y.hourElement){P(y.timeContainer,["increment"],$),P(y.timeContainer,"blur",$,{capture:!0}),P(y.timeContainer,"click",F),P([y.hourElement,y.minuteElement],["focus","click"],function(e){return m(e).select()}),void 0!==y.secondElement&&P(y.secondElement,"focus",function(){return y.secondElement&&y.secondElement.select()}),void 0!==y.amPM&&P(y.amPM,"click",function(e){$(e)})}y.config.allowInput&&P(y._input,"blur",ne)}}(),(y.selectedDates.length||y.config.noCalendar)&&(y.config.enableTime&&A(y.config.noCalendar?y.latestSelectedDateObj:void 0),De(!1)),T();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!y.isMobile&&t&&de(),ve("onReady")}(),y}function k(e,t){for(var n=Array.prototype.slice.call(e).filter(function(e){return e instanceof HTMLElement}),i=[],o=0;o<n.length;o++){var a=n[o];try{if(null!==a.getAttribute("data-fp-omit"))continue;void 0!==a._flatpickr&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=M(a,t||{}),i.push(a._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})},o=0,a=t;o<a.length;o++){i(a[o])}return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return k(this,e)},HTMLElement.prototype.flatpickr=function(e){return k([this],e)});var S=function(e,t){return"string"==typeof e?k(window.document.querySelectorAll(e),t):e instanceof Node?k([e],t):k(e,t)};return S.defaultConfig={},S.l10ns={en:e({},o),default:e({},o)},S.localize=function(t){S.l10ns.default=e(e({},S.l10ns.default),t)},S.setDefaults=function(t){S.defaultConfig=e(e({},S.defaultConfig),t)},S.parseDate=C({}),S.formatDate=w({}),S.compareDates=D,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return k(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=S),S}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).es={})}(this,function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],longhand:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"]},months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longhand:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},ordinal:function(){return""},firstDayOfWeek:1,rangeSeparator:" - ",time_24hr:!0};t.l10ns.es=n;var i=t.l10ns;e.Spanish=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(e){var t,n,i,o;String.prototype.includes||(t={}.toString,n=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),i="".indexOf,o=function(e){if(null==this)throw new TypeError;var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var o=n.length,a=String(e),r=a.length,s=arguments.length>1?arguments[1]:void 0,l=s?Number(s):0;return l!=l&&(l=0),!(r+Math.min(Math.max(l,0),o)>o)&&-1!=i.call(n,a,l)},n?n(String.prototype,"includes",{value:o,configurable:!0,writable:!0}):String.prototype.includes=o),String.prototype.startsWith||function(){var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t={}.toString,n=function(e){if(null==this)throw new TypeError;var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var i=n.length,o=String(e),a=o.length,r=arguments.length>1?arguments[1]:void 0,s=r?Number(r):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),i);if(a+l>i)return!1;for(var d=-1;++d<a;)if(n.charCodeAt(l+d)!=o.charCodeAt(d))return!1;return!0};e?e(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),Object.keys||(Object.keys=function(e,t,n){for(t in n=[],e)n.hasOwnProperty.call(e,t)&&n.push(t);return n});var a={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,n){return n&&!a.useDefault&&e(t).data("selected",!0),a._set.apply(this,arguments)};var r=null;function s(t){return e.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t?t.replace(this.re,this.ch):""}),t}e.fn.triggerNative=function(e){var t,n=this[0];n.dispatchEvent?("function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),n.dispatchEvent(t)):n.fireEvent?((t=document.createEventObject()).eventType=e,n.fireEvent("on"+e,t)):this.trigger(e)},e.expr.pseudos.icontains=function(t,n,i){var o=e(t).find("span.dropdown-item-inner");return(o.data("tokens")||o.text()).toString().toUpperCase().includes(i[3].toUpperCase())},e.expr.pseudos.ibegins=function(t,n,i){var o=e(t).find("span.dropdown-item-inner");return(o.data("tokens")||o.text()).toString().toUpperCase().startsWith(i[3].toUpperCase())},e.expr.pseudos.aicontains=function(t,n,i){var o=e(t).find("span.dropdown-item-inner");return(o.data("tokens")||o.data("normalizedText")||o.text()).toString().toUpperCase().includes(i[3].toUpperCase())},e.expr.pseudos.aibegins=function(t,n,i){var o=e(t).find("span.dropdown-item-inner");return(o.data("tokens")||o.data("normalizedText")||o.text()).toString().toUpperCase().startsWith(i[3].toUpperCase())};var l=function(e){var t=function(t){return e[t]},n="(?:"+Object.keys(e).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,t):e}},d=l({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),c=l({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),u=function(t,n){a.useDefault||(e.valHooks.select.set=a._set,a.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=n,null===this.options.title&&(this.options.title=this.$element.attr("title"));var i=this.options.windowPadding;"number"==typeof i&&(this.options.windowPadding=[i,i,i,i]),this.val=u.prototype.val,this.render=u.prototype.render,this.refresh=u.prototype.refresh,this.setStyle=u.prototype.setStyle,this.selectAll=u.prototype.selectAll,this.deselectAll=u.prototype.deselectAll,this.destroy=u.prototype.destroy,this.remove=u.prototype.remove,this.show=u.prototype.show,this.hide=u.prototype.hide,this.init()};function p(t){var n,i=arguments,o=t;[].shift.apply(i);var a=this.each(function(){var t=e(this);if(t.is("select")){var a=t.data("selectpicker"),r="object"==typeof o&&o;if(a){if(r)for(var s in r)r.hasOwnProperty(s)&&(a.options[s]=r[s])}else{var l=e.extend({},u.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),r);l.template=e.extend({},u.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},t.data().template,r.template),t.data("selectpicker",a=new u(this,l))}"string"==typeof o&&(n=a[o]instanceof Function?a[o].apply(a,i):a.options[o])}});return void 0!==n?n:a}u.VERSION="1.12.2",u.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Seleccionar todo",deselectAllText:"Deseleccionar todo",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"",tickIcon:"bs-ok-default",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0},u.prototype={constructor:u,init:function(){var t=this,n=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==n&&(this.$button.attr("data-id",n),e('label[for="'+n+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!1),t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!0),t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){t.$button.addClass("bs-invalid").focus(),t.$element.on({"focus.bs.select":function(){t.$button.focus(),t.$element.off("focus.bs.select")},"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid"),t.$element.off("rendered.bs.select")}})}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",o=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+d(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",r=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block w-100"><button type="button" class="actions-btn bs-select-all btn btn-default btn-light">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default btn-light">'+this.options.deselectAllText+"</button></div></div>":"",s=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default btn-light">'+this.options.doneButtonText+"</button></div></div>":"",l='<div class="btn-group bootstrap-select'+t+n+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-bs-toggle="dropdown"'+i+' role="button"><span class="filter-option float-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu select-dropdown open" role="combobox">'+o+a+r+'<div class="dropdown-menu inner" role="listbox" aria-expanded="false"></div>'+s+"</div></div>";return e(l)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("div.inner")[0].innerHTML=t,e},reloadLi:function(){var e=this.createLi();this.$menuInner[0].innerHTML=e},createLi:function(){var t=this,n=[],i=0,o=document.createElement("option"),a=-1,r=function(e,t,n,i){return'<a tabindex="0"'+(void 0!==(n="dropdown-item "+(n||""))&&""!==n?' class="'+n+'"':"")+(null!=t?' data-original-index="'+t+'"':"")+(null!=i?'data-optgroup="'+i+'"':"")+">"+e+"</a>"},l=function(e,t,n){return"<div"+(void 0!==t&&""!==t?' class="'+t+'"':"")+(null!=n?' data-optgroup="'+n+'"':"")+">"+e+"</div>"},c=function(n,i,o,a){return"<span"+(void 0!==(i="dropdown-item-inner "+(i||""))?' class="'+i+'"':"")+(o?' style="'+o+'"':"")+(t.options.liveSearchNormalize?' data-normalized-text="'+s(d(e(n).html()))+'"':"")+(void 0!==a||null!==a?' data-tokens="'+a+'"':"")+' role="option">'+n+'<span class="'+t.options.iconBase+" "+t.options.tickIcon+' check-mark"></span></span>'};if(this.options.title&&!this.multiple&&(a--,!this.$element.find(".bs-title-option").length)){var u=this.$element[0];o.className="bs-title-option",o.innerHTML=this.options.title,o.value="",u.insertBefore(o,u.firstChild),void 0===e(u.options[u.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&(o.selected=!0)}var p=this.$element.find("option");return p.each(function(o){var s=e(this);if(a++,!s.hasClass("bs-title-option")){var u,f=this.className||"",m=d(this.style.cssText),h=s.data("content")?s.data("content"):s.html(),g=s.data("tokens")?s.data("tokens"):null,v=void 0!==s.data("subtext")?'<small class="text-muted">'+s.data("subtext")+"</small>":"",b=void 0!==s.data("icon")?'<span class="'+t.options.iconBase+" "+s.data("icon")+'"></span> ':"",y=s.parent(),w="OPTGROUP"===y[0].tagName,C=w&&y[0].disabled,D=this.disabled||C;if(""!==b&&D&&(b="<span>"+b+"</span>"),t.options.hideDisabled&&(D&&!w||C))return u=s.data("prevHiddenIndex"),s.next().data("prevHiddenIndex",void 0!==u?u:o),void a--;if(s.data("content")||(h=b+'<span class="text">'+h+v+"</span>"),w&&!0!==s.data("divider")){if(t.options.hideDisabled&&D){if(void 0===y.data("allOptionsDisabled")){var x=y.children();y.data("allOptionsDisabled",x.filter(":disabled").length===x.length)}if(y.data("allOptionsDisabled"))return void a--}var E=" "+y[0].className||"";if(0===s.index()){i+=1;var M=y[0].label,k=void 0!==y.data("subtext")?'<small class="text-muted">'+y.data("subtext")+"</small>":"";M=(y.data("icon")?'<span class="'+t.options.iconBase+" "+y.data("icon")+'"></span> ':"")+'<span class="text">'+d(M)+k+"</span>",0!==o&&n.length>0&&(a++,n.push(l("","dropdown-divider",i+"div"))),a++,n.push(l(M,"dropdown-header"+E,i))}if(t.options.hideDisabled&&D)return void a--;n.push(r(c(h,"opt "+f+E,m,g),o,"",i))}else if(!0===s.data("divider"))n.push(l("","dropdown-divider",i+"div"));else if(!0===s.data("hidden"))u=s.data("prevHiddenIndex"),s.next().data("prevHiddenIndex",void 0!==u?u:o),n.push(r(c(h,f,m,g),o,"hidden is-hidden"));else{var S=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!S&&t.options.hideDisabled&&void 0!==(u=s.data("prevHiddenIndex"))){var T=p.eq(u)[0].previousElementSibling;T&&"OPTGROUP"===T.tagName&&!T.disabled&&(S=!0)}S&&(a++,n.push(l("","dropdown-divider",i+"div"))),n.push(r(c(h,f,m,g),o))}t.liObj[o]=a}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),n.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("a, .dropdown-header, .dropdown-divider")),this.$lis},render:function(t){var n,i=this,o=this.$element.find("option");!1!==t&&o.each(function(e){var t=i.findLis().eq(i.liObj[e]);i.setDisabled(e,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,t),i.setSelected(e,this.selected,t)}),this.togglePlaceholder(),this.tabIndex();var a=o.map(function(){if(this.selected){if(i.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var t,n=e(this),o=n.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+n.data("icon")+'"></i> ':"";return t=i.options.showSubtext&&n.data("subtext")&&!i.multiple?' <small class="text-muted">'+n.data("subtext")+"</small>":"",void 0!==n.attr("title")?n.attr("title"):n.data("content")&&i.options.showContent?n.data("content").toString():o+n.html()+t}}).toArray(),r=this.multiple?a.join(this.options.multipleSeparator):a[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var s=this.options.selectedTextFormat.split(">");if(s.length>1&&a.length>s[1]||1==s.length&&a.length>=2){n=this.options.hideDisabled?", [disabled]":"";var l=o.not('[data-divider="true"], [data-hidden="true"]'+n).length;r=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(a.length,l):this.options.countSelectedText).replace("{0}",a.length.toString()).replace("{1}",l.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(r=this.options.title),r||(r=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",c(e.trim(r.replace(/<[^>]*>?/g,"")))),this.$button.children(".filter-option").html(r),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=e||this.options.style;"add"==t?this.$button.addClass(n):"remove"==t?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},updatePosition:function(){var e=this.$menu.get(0).ownerDocument.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),this.$menu.get(0).ownerDocument.dispatchEvent(e)},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){var n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("ul"),a=document.createElement("a"),r=document.createElement("a"),s=document.createElement("span"),l=document.createElement("span"),d=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,c=this.options.liveSearch?document.createElement("div"):null,u=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",n.className=this.$menu[0].parentNode.className+" show open",i.className="dropdown-menu open show",o.className="dropdown-menu inner",a.className="dropdown-divider",s.className="dropdown-item-inner",l.appendChild(document.createTextNode("Inner text")),s.appendChild(l),r.appendChild(s),o.appendChild(r),o.appendChild(a),d&&i.appendChild(d),c){var f=document.createElement("input");c.className="bs-searchbox",f.className="form-control",c.appendChild(f),i.appendChild(c)}u&&i.appendChild(u),i.appendChild(o),p&&i.appendChild(p),n.appendChild(i),document.body.appendChild(n);var m=s.offsetHeight,h=d?d.offsetHeight:0,g=c?c.offsetHeight:0,v=u?u.offsetHeight:0,b=p?p.offsetHeight:0,y=e(a).outerHeight(!0),w="function"==typeof getComputedStyle&&getComputedStyle(i),C=w?null:e(i),D={vert:parseInt(w?w.paddingTop:C.css("paddingTop"))+parseInt(w?w.paddingBottom:C.css("paddingBottom"))+parseInt(w?w.borderTopWidth:C.css("borderTopWidth"))+parseInt(w?w.borderBottomWidth:C.css("borderBottomWidth")),horiz:parseInt(w?w.paddingLeft:C.css("paddingLeft"))+parseInt(w?w.paddingRight:C.css("paddingRight"))+parseInt(w?w.borderLeftWidth:C.css("borderLeftWidth"))+parseInt(w?w.borderRightWidth:C.css("borderRightWidth"))},x={vert:D.vert+parseInt(w?w.marginTop:C.css("marginTop"))+parseInt(w?w.marginBottom:C.css("marginBottom"))+2,horiz:D.horiz+parseInt(w?w.marginLeft:C.css("marginLeft"))+parseInt(w?w.marginRight:C.css("marginRight"))+2};document.body.removeChild(n),this.sizeInfo={liHeight:m,headerHeight:h,searchHeight:g,actionsHeight:v,doneButtonHeight:b,dividerHeight:y,menuPadding:D,menuExtras:x}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var t,n,i,o,a,r,s,l,d=this,c=this.$menu,u=this.$menuInner,p=e(window),f=this.$newElement[0].offsetHeight,m=this.$newElement[0].offsetWidth,h=this.sizeInfo.liHeight,g=this.sizeInfo.headerHeight,v=this.sizeInfo.searchHeight,b=this.sizeInfo.actionsHeight,y=this.sizeInfo.doneButtonHeight,w=this.sizeInfo.dividerHeight,C=this.sizeInfo.menuPadding,D=this.sizeInfo.menuExtras,x=this.options.hideDisabled?".disabled":"",E=function(){var t,n=d.$newElement.offset(),i=e(d.options.container);d.options.container&&!i.is("body")?((t=i.offset()).top+=parseInt(i.css("borderTopWidth")),t.left+=parseInt(i.css("borderLeftWidth"))):t={top:0,left:0};var o=d.options.windowPadding;a=n.top-t.top-p.scrollTop(),r=p.height()-a-f-t.top-o[2],s=n.left-t.left-p.scrollLeft(),l=p.width()-s-m-t.left-o[1],a-=o[0],s-=o[3]};if(E(),"auto"===this.options.size){var M=function(){var p,f=function(t,n){return function(i){return n?i.classList?i.classList.contains(t):e(i).hasClass(t):!(i.classList?i.classList.contains(t):e(i).hasClass(t))}},w=d.$menuInner[0].getElementsByTagName("a"),x=Array.prototype.filter?Array.prototype.filter.call(w,f("d-none",!1)):d.$lis.not(".d-none"),M=Array.prototype.filter?Array.prototype.filter.call(x,f("dropdown-header",!0)):x.filter(".dropdown-header");E(),t=r-D.vert,n=l-D.horiz,d.options.container?(c.data("height")||c.data("height",c.height()),i=c.data("height"),c.data("width")||c.data("width",c.width()),o=c.data("width")):(i=c.height(),o=c.width()),d.options.dropupAuto&&d.$newElement.toggleClass("dropup",a>r&&t-D.vert<i),d.$newElement.hasClass("dropup")&&(t=a-D.vert),"auto"===d.options.dropdownAlignRight&&c.toggleClass("dropdown-menu-right",s>l&&n-D.horiz<o-m),p=x.length+M.length>3?3*h+D.vert-2:0,c.css({"max-height":t+"px",overflow:"hidden","min-height":p+g+v+b+y+"px"}),u.css({"max-height":t-g-v-b-y-C.vert+"px","overflow-y":"auto","min-height":Math.max(p-C.vert,0)+"px"})};M(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",M),p.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",M)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(x).length>this.options.size){var k=this.$lis.not(".dropdown-divider").not(x).children().slice(0,this.options.size).last().parent().index(),S=this.$lis.slice(0,k+1).filter(".dropdown-divider").length;t=h*this.options.size+S*w+C.vert,d.options.container?(c.data("height")||c.data("height",c.height()),i=c.data("height")):i=c.height(),d.options.dropupAuto&&this.$newElement.toggleClass("dropup",a>r&&t-D.vert<i),c.css({"max-height":t+g+v+b+y+"px",overflow:"hidden","min-height":""}),u.css({"max-height":t-C.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,n=e.children(".dropdown-menu").outerWidth(),i=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(n,i)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t,n,i,o=this,a=e(this.options.container),r=function(e){o.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),a.is("body")?n={top:0,left:0}:((n=a.offset()).top+=parseInt(a.css("borderTopWidth"))-a.scrollTop(),n.left+=parseInt(a.css("borderLeftWidth"))-a.scrollLeft()),i=e.hasClass("dropup")?0:e[0].offsetHeight,o.$bsContainer.css({top:t.top-n.top+i,left:t.left-n.left,width:e[0].offsetWidth})};this.$button.on("click",function(){var t=e(this);o.isDisabled()||(r(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass("open",!t.hasClass("open")).append(o.$menu))}),e(window).on("resize scroll",function(){r(o.$newElement)}),this.$element.on("hide.bs.select",function(){o.$menu.data("height",o.$menu.height()),o.$bsContainer.detach()})},setSelected:function(e,t,n){n||(this.togglePlaceholder(),n=this.findLis().eq(this.liObj[e])),n.toggleClass("selected",t).find("span.dropdown-item-inner").attr("aria-selected",t)},setDisabled:function(e,t,n){n||(n=this.findLis().eq(this.liObj[e])),t?n.addClass("disabled").children("span.dropdown-item-inner").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):n.removeClass("disabled").children("span.dropdown-item-inner").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element.val();this.$button.toggleClass("bs-placeholder",null===e||""===e||e.constructor===Array&&0===e.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,n=e(document);n.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&n.data("spaceSelect")&&(e.preventDefault(),n.data("spaceSelect",!1))}),this.$button.on("click",function(){t.setSize()}),this.$element.on("shown.bs.select",function(){if(t.options.liveSearch||t.multiple){if(!t.multiple){var e=t.liObj[t.$element[0].selectedIndex];if("number"!=typeof e||!1===t.options.size)return;var n=t.$lis.eq(e)[0].offsetTop-t.$menuInner[0].offsetTop;n=n-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2,t.$menuInner[0].scrollTop=n}}else t.$menuInner.find("a.selected").focus()}),this.$menuInner.on("click","a",function(n){var i=e(this).find("span.dropdown-item-inner"),o=i.parent().data("originalIndex"),a=t.$element.val(),s=t.$element.prop("selectedIndex"),l=!0;if(t.multiple&&1!==t.options.maxOptions&&n.stopPropagation(),n.preventDefault(),!t.isDisabled()&&!i.parent().hasClass("disabled")){var d=t.$element.find("option"),c=d.eq(o),u=c.prop("selected"),p=c.parent("optgroup"),f=t.options.maxOptions,m=p.data("maxOptions")||!1;if(t.multiple){if(c.prop("selected",!u),t.setSelected(o,!u),i.blur(),!1!==f||!1!==m){var h=f<d.filter(":selected").length,g=m<p.find("option:selected").length;if(f&&h||m&&g)if(f&&1==f)d.prop("selected",!1),c.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected"),t.setSelected(o,!0);else if(m&&1==m){p.find("option:selected").prop("selected",!1),c.prop("selected",!0);var v=i.parent().data("optgroup");t.$menuInner.find('[data-optgroup="'+v+'"]').removeClass("selected"),t.setSelected(o,!0)}else{var b="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,y="function"==typeof b?b(f,m):b,w=y[0].replace("{n}",f),C=y[1].replace("{n}",m),D=e('<div class="notify"></div>');y[2]&&(w=w.replace("{var}",y[2][f>1?0:1]),C=C.replace("{var}",y[2][m>1?0:1])),c.prop("selected",!1),t.$menu.append(D),f&&h&&(D.append(e("<div>"+w+"</div>")),l=!1,t.$element.trigger("maxReached.bs.select")),m&&g&&(D.append(e("<div>"+C+"</div>")),l=!1,t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(o,!1)},10),D.delay(750).fadeOut(300,function(){e(this).remove()})}}}else d.prop("selected",!1),c.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected").find("span.dropdown-item-inner").attr("aria-selected",!1),t.setSelected(o,!0);!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.focus():t.options.liveSearch&&t.$searchbox.focus(),l&&(a!=t.$element.val()&&t.multiple||s!=t.$element.prop("selectedIndex")&&!t.multiple)&&(r=[o,c.prop("selected"),u],t.$element.triggerNative("change"))}}),this.$menu.on("click","a.disabled span.dropdown-item-inner , .popover-title, .popover-title :not(.close)",function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),t.options.liveSearch&&!e(n.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())}),this.$menuInner.on("click",".dropdown-divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){t.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),n.preventDefault(),n.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$element.change(function(){t.render(!1),t.$element.trigger("changed.bs.select",r),r=null})},liveSearchListener:function(){var t=this,n=e('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){t.$menuInner.find(".active").removeClass("active"),t.$searchbox.val()&&(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("d-none"),n.parent().length&&n.remove()),t.multiple||t.$menuInner.find(".selected").addClass("active"),setTimeout(function(){t.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(t.$lis.not(".is-hidden").removeClass("d-none"),t.$lis.filter(".active").removeClass("active"),n.remove(),t.$searchbox.val()){var i,o=t.$lis.not(".is-hidden, .dropdown-divider, .dropdown-header");if((i=t.options.liveSearchNormalize?o.not(":a"+t._searchStyle()+'("'+s(t.$searchbox.val())+'")'):o.not(":"+t._searchStyle()+'("'+t.$searchbox.val()+'")')).length===o.length)n.html(t.options.noneResultsText.replace("{0}",'"'+d(t.$searchbox.val())+'"')),t.$menuInner.append(n),t.$lis.addClass("d-none");else{i.addClass("d-none");var a,r=t.$lis.not(".d-none");r.each(function(t){var n=e(this);n.hasClass("dropdown-divider")?void 0===a?n.addClass("d-none"):(a&&a.addClass("d-none"),a=n):n.hasClass("dropdown-header")&&r.eq(t+1).data("optgroup")!==n.data("optgroup")?n.addClass("d-none"):a=null}),a&&a.addClass("d-none"),o.not(".d-none").first().addClass("active"),t.$menuInner.scrollTop(0)}t.updatePosition()}})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(e){return void 0!==e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0),this.findLis();var n=this.$element.find("option"),i=this.$lis.not(".dropdown-divider, .dropdown-header, .disabled, .d-none"),o=i.length,a=[];if(t){if(i.filter(".selected").length===i.length)return}else if(0===i.filter(".selected").length)return;i.toggleClass("selected",t);for(var r=0;r<o;r++){var s=i[r].getAttribute("data-original-index");a[a.length]=n.eq(s)[0]}e(a).prop("selected",t),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click")},keydown:function(t){var n,i,o,a,r=e(this),s=(r.is("input")?r.parent().parent():r.parent()).data("this"),l=":not(.disabled, .d-none, .dropdown-header, .dropdown-divider)",d={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(!(a=s.$newElement.hasClass("open")||s.$newElement.hasClass("show"))&&(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.keyCode>=65&&t.keyCode<=90))return s.options.container?s.$button.trigger("click"):(s.setSize(),s.$menu.parent().addClass("open show"),a=!0),void s.$searchbox.focus();if(s.options.liveSearch&&/(^9$|27)/.test(t.keyCode.toString(10))&&a&&(t.preventDefault(),t.stopPropagation(),s.$menuInner.click(),s.$button.focus()),/(38|40)/.test(t.keyCode.toString(10))){if(!(n=s.$lis.filter(l)).length)return;i=s.options.liveSearch?n.index(n.filter(".active")):n.index(n.filter(":focus")),o=s.$menuInner.data("prevIndex"),38==t.keyCode?(!s.options.liveSearch&&i!=o||-1==i||i--,i<0&&(i+=n.length)):40==t.keyCode&&((s.options.liveSearch||i==o)&&i++,i%=n.length),s.$menuInner.data("prevIndex",i),s.options.liveSearch?(t.preventDefault(),r.hasClass("dropdown-toggle")||(n.removeClass("active").eq(i).addClass("active").children("span.dropdown-item-inner").focus(),r.focus())):n.eq(i).focus()}else if(!r.is("input")){var c,u=[];(n=s.$lis.filter(l)).each(function(n){e.trim(e(this).children("span.dropdown-item-inner").text().toLowerCase()).substring(0,1)==d[t.keyCode]&&u.push(n)}),c=e(document).data("keycount"),c++,e(document).data("keycount",c),e.trim(e(":focus").text().toLowerCase()).substring(0,1)!=d[t.keyCode]?(c=1,e(document).data("keycount",c)):c>=u.length&&(e(document).data("keycount",0),c>u.length&&(c=1)),n.eq(u[c-1]).children("span.dropdown-item-inner").focus()}if((/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&s.options.selectOnTab)&&a){if(/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),s.options.liveSearch)/(32)/.test(t.keyCode.toString(10))||(s.$menuInner.find("a.active").click(),r.focus());else{var p=e(":focus");p.click(),p.focus(),t.preventDefault(),e(document).data("spaceSelect",!0)}e(document).data("keycount",0)}(/(^9$|27)/.test(t.keyCode.toString(10))&&a&&(s.multiple||s.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!a)&&(s.$menu.parent().removeClass("open"),s.options.container&&s.$newElement.removeClass("open"),s.$button.focus())},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var f=e.fn.selectpicker;e.fn.selectpicker=p,e.fn.selectpicker.Constructor=u,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=f,this},e(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-bs-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',u.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-bs-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);p.call(t,t.data())})})}(e)});let setup={lang:"es",currency:"USD",deeplink:"/resultados",serviceType:"OW",pax:1,items:{from:{name:"",latitude:"",longitude:"",pickupDate:"",pickupTime:"00:00"},to:{name:"",latitude:"",longitude:"",pickupDate:"",pickupTime:"00:00"}},setLang:function(e){setup.lang=e},loadingMessage:function(e){const t=document.getElementById(e);t.innerHTML="";const n=document.createElement("div");n.classList.add("loader");const i=document.createElement("img");i.width=35,i.height=35,i.src="/assets/img/loader.gif",n.appendChild(i),t.appendChild(n)},autocomplete:function(e,t){if(e.length<3)return!1;setup.loadingMessage(t),fetch(`/tpv/autocomplete/${e}/?uuid=${__uuid.value}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{setup.makeItems(e,t)}).catch(e=>{console.error("Error:",e)})},makeItems:function(e,t){const n=document.getElementById(t);n.innerHTML="";for(let i in e)if(e.hasOwnProperty(i)){if("DEFAULT"===e[i].type){const o=document.createElement("div");o.textContent=e[i].name,o.className="default";const a=document.createElement("span");a.textContent=e[i].address,o.appendChild(a),o.addEventListener("click",function(){setup.setItem(t,e[i])}),n.appendChild(o)}if("GCP"===e[i].type){const o=document.createElement("div");o.className="GCP";const a=document.createElement("div");a.textContent=e[i].name;const r=document.createElement("span");r.textContent=e[i].address,a.appendChild(r),a.addEventListener("click",function(){setup.setItem(t,e[i])});const s=document.createElement("button");s.textContent="ADD",s.type="button",s.addEventListener("click",function(){setup.saveHotel(t,e[i])}),o.appendChild(a),o.appendChild(s),n.appendChild(o)}}},setItem(e,t={}){if(document.getElementById(e).innerHTML="","aff-input-from-elements"===e){document.getElementById("aff-input-from").value=t.name,setup.items.from.name=t.name,setup.items.from.latitude=t.geo.lat,setup.items.from.longitude=t.geo.lng,document.getElementsByName("from_lat")[0].value=t.geo.lat,document.getElementsByName("from_lng")[0].value=t.geo.lng}if("aff-input-to-elements"===e){document.getElementById("aff-input-to").value=t.name,setup.items.to.name=t.name,setup.items.to.latitude=t.geo.lat,setup.items.to.longitude=t.geo.lng,document.getElementsByName("to_lat")[0].value=t.geo.lat,document.getElementsByName("to_lng")[0].value=t.geo.lng}},saveHotel:function(e,t){let n={name:t.name,address:t.address,start:{lat:t.geo.lat,lng:t.geo.lng}};$.ajax({url:"https://api.caribbean-transfers.com/api/v1/hotels/add",type:"POST",data:n,beforeSend:function(){setup.loadingMessage(e)},success:function(n){setup.setItem(e,t),alert("Hotel agregado con xito...");document.getElementById(e).innerHTML=""}}).fail(function(e,t,i){Swal.fire("Zona no registrada",`No se pudo agregar el hotel, ya que no se tiene ninguna zona que coincida con las coordenadas: (${n.start.lat} ${n.start.lng})`,"error"),console.log(i)})},resetServiceType:function(){document.querySelectorAll(".aff-toggle-type").forEach(e=>{e.classList.remove("active")})},resetCurrency:function(){document.querySelectorAll(".aff-toggle-currency").forEach(e=>{e.classList.remove("active")})},getLoader:function(){return'<span class="container-loader"><i class="fa-solid fa-spinner fa-spin-pulse"></i></span>'},setTotal:function(e){const t=document.getElementById("formTotal");"CORTESIA"===document.getElementById("formPaymentMethod").value?(t.value=0,t.setAttribute("readonly",!0)):(t.value=e,t.removeAttribute("readonly"))},setCortesiaTotal:function(){const e=document.getElementById("formTotal");e.value=0,e.setAttribute("readonly",!0)},actionSite:function(e){const t=document.getElementById("formReference"),n=document.getElementById("formName"),i=document.getElementById("formLastName"),o=document.getElementById("formEmail"),a=document.getElementById("formPhone"),r=document.getElementById("formIsQuotation"),s=document.getElementById("formPaymentMethod"),l=(document.getElementById("formOriginSale"),e.options[e.selectedIndex]);"AGENCY"==l.getAttribute("data-type")||"STAFF"==l.getAttribute("data-type")?("STAFF"==l.getAttribute("data-type")&&(n.value="STAFF",i.value="CT"),o.value=l.getAttribute("data-email"),a.value=l.getAttribute("data-phone"),r.value=0,s.value="CARD",$("#formOriginSale").selectpicker("val","AGENCY"==l.getAttribute("data-type")?"5":"13"),"AGENCY"==l.getAttribute("data-type")&&(console.log("entre"),t.removeAttribute("readonly")),"STAFF"==l.getAttribute("data-type")&&(console.log("entre staff"),t.value="DIRECTO"),"STAFF"==l.getAttribute("data-type")&&(n.setAttribute("readonly",!0),i.setAttribute("readonly",!0)),o.setAttribute("readonly",!0),a.setAttribute("readonly",!0),r.setAttribute("readonly",!0),s.setAttribute("readonly",!0)):(n.value="",i.value="",o.value="",a.value="",t.value="",r.value=0,s.value="CASH",$("#formOriginSale").selectpicker("val",""),t.setAttribute("readonly",!0),n.removeAttribute("readonly"),i.removeAttribute("readonly"),o.removeAttribute("readonly"),a.removeAttribute("readonly"),r.removeAttribute("readonly"),s.removeAttribute("readonly"))}};function affDelayAutocomplete(e,t){var n=0;return function(){var i=this,o=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(i,o)},t||0)}}const __uuid=document.getElementById("uuid")||{value:""};var from_autocomplete=document.getElementById("aff-input-from"),to_autocomplete=document.getElementById("aff-input-to");const _formQuotation=document.getElementById("formQuotation");function loaderSites(){const e=document.getElementById("formSite");null!=e&&(setup.actionSite(e),e.addEventListener("change",function(t){t.preventDefault(),setup.actionSite(e)}))}document.addEventListener("DOMContentLoaded",function(){document.getElementById("bookingPickupForm"),document.getElementById("flexSwitchCheckDefault");from_autocomplete.addEventListener("keydown",affDelayAutocomplete(function(e){setup.autocomplete(e.target.value,"aff-input-from-elements")},500)),from_autocomplete.addEventListener("focus",e=>{setup.autocomplete(e.target.value,"aff-input-from-elements")}),to_autocomplete.addEventListener("keydown",affDelayAutocomplete(function(e){setup.autocomplete(e.target.value,"aff-input-to-elements")},500)),to_autocomplete.addEventListener("focus",e=>{setup.autocomplete(e.target.value,"aff-input-to-elements")});flatpickr("#bookingPickupForm",{mode:"single",dateFormat:"Y-m-d H:i",enableTime:!0,minDate:"today"}),flatpickr("#bookingDepartureForm",{mode:"single",dateFormat:"Y-m-d H:i",enableTime:!0,minDate:"today"});document.addEventListener("click",function(e){if(e.target&&"clearBooking"===e.target.id&&_formQuotation.reset(),e.target&&e.target.classList.contains("aff-toggle-type")){e.preventDefault(),setup.resetServiceType();const t=document.getElementById("flexSwitchCheckDefault"),n=document.querySelector(".elements"),i=document.getElementById("departureContainer"),{type:o}=e.target.dataset;"RT"==o?(n.classList.add(o),i.classList.remove("d-none"),t.value=1):(n.classList.remove("RT"),i.classList.add("d-none"),t.value=0),e.target.classList.add("active");if(document.getElementById("formReservation")){document.getElementById("btnQuote").click()}}if(e.target&&e.target.classList.contains("aff-toggle-currency")){e.preventDefault(),setup.resetCurrency();const t=document.getElementById("bookingCurrencyForm"),{currency:n}=e.target.dataset;t.value=n,e.target.classList.add("active");if(document.getElementById("formReservation")){document.getElementById("btnQuote").click()}}}),document.addEventListener("change",function(e){if(e.target&&e.target.classList.contains("checkButton")){const{total:t}=e.target.dataset;setup.setTotal(t)}if(e.target&&"formPaymentMethod"===e.target.id)if("CORTESIA"===e.target.value)setup.setTotal(0);else{const e=document.querySelector(".checkButton:checked")?.dataset,t=document.getElementById("formTotal");e&&0==t.value&&setup.setTotal(e.total)}}),document.addEventListener("submit",function(e){if(e.target&&"formQuotation"===e.target.id){e.preventDefault();const t=document.getElementById("loadContent"),n=new FormData(_formQuotation);n.append("uuid",__uuid.value);const i=document.getElementById("btnQuote");i.disabled=!0,i.textContent="Cotizando...",t.innerHTML=setup.getLoader(),Swal.fire({title:"Procesando solicitud...",text:"Por favor, espera mientras se realiza la cotizacin.",allowOutsideClick:!1,allowEscapeKey:!1,didOpen:()=>{Swal.showLoading()}}),fetch("/tpv/quote",{method:"POST",headers:{"X-CSRF-TOKEN":csrfToken,Accept:"application/json"},body:n}).then(e=>e.ok?e.text():e.json().then(e=>{throw e})).then(e=>{Swal.close(),loadContent.innerHTML=e,window.scrollTo({top:t.offsetTop,behavior:"smooth"}),"function"==typeof loaderSites&&loaderSites(),$(".selectpicker").selectpicker({liveSearch:!0,liveSearchNormalize:!0,size:"integer"}),i.disabled=!1,i.textContent="Cotizar"}).catch(e=>{Swal.fire("ERROR!",e.message||"Ocurri un error","error"),i.disabled=!1,i.textContent="Cotizar",t.innerHTML=""})}if(e.target&&"formReservation"===e.target.id){e.preventDefault();const t=document.getElementById("formReservation"),n=new FormData(t);n.append("uuid",__uuid.value);const i=document.getElementById("sendReservation");i.disabled=!0,i.textContent="Enviando...",Swal.fire({title:"Procesando solicitud...",text:"Por favor, espera mientras se crea la reservacin.",allowOutsideClick:!1,allowEscapeKey:!1,didOpen:()=>{Swal.showLoading()}}),fetch("/tpv/create",{method:"POST",headers:{"X-CSRF-TOKEN":csrfToken,Accept:"application/json"},body:n}).then(e=>e.ok?e.json():e.json().then(e=>{throw e})).then(e=>{Swal.close(),window.location.replace(`/reservations/detail/${e.config.id}`),i.disabled=!1,i.textContent="Enviar"}).catch(e=>{Swal.fire("ERROR!",e.message||"Ocurri un error","error"),i.disabled=!1,i.textContent="Enviar"})}},!0)});
